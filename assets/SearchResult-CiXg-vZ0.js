import{u as U,e as se,f as te,g as z,h as De,P as ae,t as re,r as le,i as S,j as H,k as ie,w as Y,l as t,m as oe,R as T,n as ue,p as Be,q as ne,C as ce,s as ve,v as pe,x as de,y as ye,z as he,A as ge,B as me,D as $,E as _,F as fe,G as C,H as Ee}from"./app-BmAynye-.js";const ke=["/","/stories/","/stories/2023-07-24-australian-story/","/stories/2023-08-07-avito-story-1/","/stories/2023-08-04-gop-stop-story/","/stories/2023-08-15-gamedev-story/","/stories/2023-08-31-chinese-guy/","/stories/2023-09-27-work-experience-in-koshelek-company/","/stories/2023-10-13-trial-period/","/stories/2023-10-18-juniors-knock-out-salaries/","/stories/2023-10-25-why-not-cut-wages/","/stories/2023-11-27-story/","/stories/2024-03-06-mol-spec-v-gos-med/","/stories/2024-03-20-razvod-sotrudnikov-in-like-center/","/stories/2024-03-29-fairytale-kingdom-nix-solutions/","/stories/2024-04-08-story-super-web/","/stories/2024-04-17-team-vs-team-lead/","/stories/2024-04-19-revolution-on-construction-site/","/stories/2024-04-22-it-story-citilink-merlion/","/stories/2024-06-07-zastryt-v-autstaffe-itstory/","/stories/2024-06-19-mafia-fundcount/","/stories/2024-06-21-how-the-employer-suffered-from-the-prosecutors-office/","/stories/2024-11-30-samolet-layoffs/","/stories/2024-12-12-fictitious-premium-as-indexation/","/stories/2024-12-12-samolet-layoffs-update/","/stories/2024-12-13-about-the-reduction-of-vendors-at-sberbank/","/stories/2025-01-30-tricks-with-dismissal-by-agreement/","/stories/2025-01-30-what-awaits-you/","/stories/2025-02-19-joined-a-union-outpaced-inflation/","/stories/2025-03-13-how-t1-innotech-fires-employees/","/stories/2025-07-15-how-to-find-a-job/","/404.html","/category/","/category/news/","/category/posts/","/tag/","/tag/mercury-development/","/tag/%D0%B7%D0%B0%D1%80%D0%BF%D0%BB%D0%B0%D1%82%D0%B0/","/tag/%D0%B4%D0%B6%D1%83%D0%BD%D1%8B/","/tag/%D1%81%D1%82%D0%B0%D0%B6%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0/","/tag/%D0%B2%D0%BE%D0%B9%D1%82%D0%B8-%D0%B2-it/","/tag/%D0%BC%D0%B5%D0%B4%D1%83%D1%87%D1%80%D0%B5%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5/","/tag/%D0%BB%D0%B0%D0%B9%D0%BA-%D1%86%D0%B5%D0%BD%D1%82%D1%80/","/tag/%D1%82%D1%80%D1%83%D0%B4%D0%BE%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%BE/","/tag/%D0%B0%D1%8F%D0%B7-%D1%88%D0%B0%D0%B1%D1%83%D1%82%D0%B4%D0%B8%D0%BD%D0%BE%D0%B2/","/tag/%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0/","/tag/%D1%83%D0%B2%D0%BE%D0%BB%D1%8C%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5/","/tag/%D1%82%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D1%8B%D0%B5-%D0%BE%D1%82%D0%BD%D0%BE%D1%88%D0%B5%D0%BD%D0%B8%D1%8F/","/tag/%D0%B8%D0%BD%D0%B4%D0%B5%D0%BA%D1%81%D0%B0%D1%86%D0%B8%D1%8F/","/tag/%D1%81%D1%83%D0%B4/","/tag/%D0%B0%D1%83%D1%82%D1%81%D1%82%D0%B0%D1%84/","/tag/fundcount/","/tag/%D1%82%D0%B0%D0%B3%D0%B8%D0%BB-%D1%82%D0%B5%D0%BB%D0%B5%D0%BA%D0%BE%D0%BC/","/tag/%D1%81%D0%B0%D0%BC%D0%BE%D0%BB%D1%91%D1%82/","/tag/proptech/","/tag/%D1%81%D0%BE%D0%BA%D1%80%D0%B0%D1%89%D0%B5%D0%BD%D0%B8%D1%8F/","/tag/%C2%AB%D0%B0%D0%BC%D1%82-%D0%B3%D1%80%D1%83%D0%BF%C2%BB/","/tag/%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D0%B3%D1%80%D0%B0%D1%82%D0%BE%D1%80/","/tag/%D1%84%D0%B8%D0%BA%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D0%B5-%D0%BF%D1%80%D0%B5%D0%BC%D0%B8%D0%B8/","/tag/%D1%81%D0%B1%D0%B5%D1%80/","/tag/%D1%84%D0%B8%D0%BD%D1%82%D0%B5%D1%85/","/tag/%D0%B0%D0%BC%D1%82-%D0%B3%D1%80%D1%83%D0%BF/","/tag/%D1%83%D0%B2%D0%BE%D0%BB%D1%8C%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%BE-%D1%81%D0%BE%D0%B3%D0%BB%D0%B0%D1%88%D0%B5%D0%BD%D0%B8%D1%8E/","/tag/%D0%BD%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D0%BA%D0%B0%D1%80%D1%8C%D0%B5%D1%80%D1%8B/","/tag/%D0%BF%D1%80%D0%BE%D1%84%D1%81%D0%BE%D1%8E%D0%B7/","/tag/%D1%821-%D0%B8%D0%BD%D0%BD%D0%BE%D1%82%D0%B5%D1%85/","/tag/%D1%81%D0%BE%D0%BA%D1%80%D0%B0%D1%89%D0%B5%D0%BD%D0%B8%D0%B5/","/tag/%D0%BF%D0%BE%D0%B8%D1%81%D0%BA-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B/","/star/","/timeline/"],we="SEARCH_PRO_QUERY_HISTORY",h=U(we,[]),He=()=>{const{queryHistoryCount:D}=C,a=D>0;return{enabled:a,queryHistory:h,addQueryHistory:r=>{a&&(h.value=Array.from(new Set([r,...h.value.slice(0,D-1)])))},removeQueryHistory:r=>{h.value=[...h.value.slice(0,r),...h.value.slice(r+1)]}}},L=D=>ke[D.id]+("anchor"in D?`#${D.anchor}`:""),Ce="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:I}=C,g=U(Ce,[]),Re=()=>{const D=I>0;return{enabled:D,resultHistory:g,addResultHistory:a=>{if(D){const r={link:L(a),display:a.display};"header"in a&&(r.header=a.header),g.value=[r,...g.value.slice(0,I-1)]}},removeResultHistory:a=>{g.value=[...g.value.slice(0,a),...g.value.slice(a+1)]}}},xe=D=>{const a=ce(),r=z(),R=ve(),i=S(0),E=H(()=>i.value>0),p=pe([]);return de(()=>{const{search:d,terminate:x}=ye(),m=fe(B=>{const f=B.join(" "),{searchFilter:A=v=>v,splitWord:F,suggestionsFilter:j,...y}=a.value;f?(i.value+=1,d(B.join(" "),r.value,y).then(v=>A(v,f,r.value,R.value)).then(v=>{i.value-=1,p.value=v}).catch(v=>{console.warn(v),i.value-=1,i.value||(p.value=[])})):p.value=[]},C.searchDelay-C.suggestDelay);Y([D,r],([B])=>m(B),{immediate:!0}),he(()=>{x()})}),{isSearching:E,results:p}};var Fe=se({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(D,{emit:a}){const r=te(),R=z(),i=De(ae),{enabled:E,addQueryHistory:p,queryHistory:d,removeQueryHistory:x}=He(),{enabled:m,resultHistory:B,addResultHistory:f,removeResultHistory:A}=Re(),F=E||m,j=re(D,"queries"),{results:y,isSearching:v}=xe(j),l=le({isQuery:!0,index:0}),n=S(0),c=S(0),P=H(()=>F&&(d.value.length>0||B.value.length>0)),Q=H(()=>y.value.length>0),q=H(()=>y.value[n.value]||null),M=()=>{const{isQuery:e,index:s}=l;s===0?(l.isQuery=!e,l.index=e?B.value.length-1:d.value.length-1):l.index=s-1},G=()=>{const{isQuery:e,index:s}=l;s===(e?d.value.length-1:B.value.length-1)?(l.isQuery=!e,l.index=0):l.index=s+1},V=()=>{n.value=n.value>0?n.value-1:y.value.length-1,c.value=q.value.contents.length-1},J=()=>{n.value=n.value<y.value.length-1?n.value+1:0,c.value=0},K=()=>{c.value<q.value.contents.length-1?c.value+=1:J()},N=()=>{c.value>0?c.value-=1:V()},b=e=>e.map(s=>Ee(s)?s:t(s[0],s[1])),W=e=>{if(e.type==="customField"){const s=ge[e.index]||"$content",[o,w=""]=me(s)?s[R.value].split("$content"):s.split("$content");return e.display.map(u=>t("div",b([o,...u,w])))}return e.display.map(s=>t("div",b(s)))},k=()=>{n.value=0,c.value=0,a("updateQuery",""),a("close")},X=()=>E?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},i.value.queryHistory),d.value.map((e,s)=>t("div",{class:["search-pro-result-item",{active:l.isQuery&&l.index===s}],onClick:()=>{a("updateQuery",e)}},[t($,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},e),t("button",{class:"search-pro-remove-icon",innerHTML:_,onClick:o=>{o.preventDefault(),o.stopPropagation(),x(s)}})]))])):null,Z=()=>m?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},i.value.resultHistory),B.value.map((e,s)=>t(T,{to:e.link,class:["search-pro-result-item",{active:!l.isQuery&&l.index===s}],onClick:()=>{k()}},()=>[t($,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[e.header?t("div",{class:"content-header"},e.header):null,t("div",e.display.map(o=>b(o)).flat())]),t("button",{class:"search-pro-remove-icon",innerHTML:_,onClick:o=>{o.preventDefault(),o.stopPropagation(),A(s)}})]))])):null;return ie("keydown",e=>{if(D.isFocusing){if(Q.value){if(e.key==="ArrowUp")N();else if(e.key==="ArrowDown")K();else if(e.key==="Enter"){const s=q.value.contents[c.value];p(D.queries.join(" ")),f(s),r.push(L(s)),k()}}else if(m){if(e.key==="ArrowUp")M();else if(e.key==="ArrowDown")G();else if(e.key==="Enter"){const{index:s}=l;l.isQuery?(a("updateQuery",d.value[s]),e.preventDefault()):(r.push(B.value[s].link),k())}}}}),Y([n,c],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{class:["search-pro-result-wrapper",{empty:D.queries.length?!Q.value:!P.value}],id:"search-pro-results"},D.queries.length?v.value?t(oe,{hint:i.value.searching}):Q.value?t("ul",{class:"search-pro-result-list"},y.value.map(({title:e,contents:s},o)=>{const w=n.value===o;return t("li",{class:["search-pro-result-list-item",{active:w}]},[t("div",{class:"search-pro-result-title"},e||i.value.defaultTitle),s.map((u,ee)=>{const O=w&&c.value===ee;return t(T,{to:L(u),class:["search-pro-result-item",{active:O,"aria-selected":O}],onClick:()=>{p(D.queries.join(" ")),f(u),k()}},()=>[u.type==="text"?null:t(u.type==="title"?ue:u.type==="heading"?Be:ne,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[u.type==="text"&&u.header?t("div",{class:"content-header"},u.header):null,t("div",W(u))])])})])})):i.value.emptyResult:F?P.value?[X(),Z()]:i.value.emptyHistory:i.value.emptyResult)}});export{Fe as default};
